OneToMany:Unidirectional
one entity associated with multiple records in another entity
ex: User can have many orders
since it's 1to many, means 1 parent have multiple child and we cannot store multiple child in 1 parent row, so it creates a new table and stores the mapping.
By default it's lazy loading, means when query parents, child rows are not fetched.



package OneToOne;

import java.util.ArrayList;
import java.util.List;

import jakarta.persistence.CascadeType;
import jakarta.persistence.Column;
import jakarta.persistence.Entity;
import jakarta.persistence.GeneratedValue;
import jakarta.persistence.GenerationType;
import jakarta.persistence.Id;
import jakarta.persistence.JoinColumn;
import jakarta.persistence.JoinColumns;
import jakarta.persistence.OneToMany;
import jakarta.persistence.OneToOne;

@Entity
public class UserDetail {
	@Id
	@GeneratedValue(strategy = GenerationType.SEQUENCE)
	long uid;
	@Column(name = "Username", unique = true)
	String uname;
	int uage;
	
	@OneToMany(cascade = CascadeType.PERSIST)
	@JoinColumn(name = "UserOrderId", referencedColumnName = "uid")
	private List<Orderrr> order=new ArrayList();

	public UserDetail() {
		
	}

// Getters and setters







package OneToOne;

import jakarta.persistence.EmbeddedId;
import jakarta.persistence.Entity;
import jakarta.persistence.GeneratedValue;
import jakarta.persistence.GenerationType;
import jakarta.persistence.Id;
import jakarta.persistence.OneToMany;
import jakarta.persistence.OneToOne;

@Entity
public class Orderrr {
	
	@Id
	@GeneratedValue(strategy = GenerationType.AUTO)
	long id;
	String ordername;
	public Orderrr() {
		
	}
//	@OneToMany(mappedBy = "order")    // it wont create any FK here
//	UserDetail userdetail;
	public long getId() {
		return id;
	}
	public String getOrdername() {
		return ordername;
	}
	public void setId(long id) {
		this.id = id;
	}
	public void setOrdername(String ordername) {
		this.ordername = ordername;
	}






package OneToOne;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
@RequestMapping("/api")
public class UserController {
	
	
	@Autowired
	private UserService userservice;
	
	@PostMapping("/post")
	public UserDetail createUser(@RequestBody UserDetail userdetail) {
		return userservice.createUser(userdetail);
		
		
	}
	
	
	@GetMapping("/get")
	List<UserDetail> getAll(){
		return userservice.getAll();
		
	}


}


	
	
	

}
